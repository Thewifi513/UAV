# 简化的WebSocket控制端
import asyncio
import websockets
import json

async def control_drone():
    uri = "ws://地面站IP:5000"
    async with websockets.connect(uri) as websocket:
        print("已连接到无人机地面站")
        
        # 发送控制指令
        while True:
            command = input("输入指令 (press/release key): ")
            if command == "exit":
                break
                
            parts = command.split(" ")
            if len(parts) == 2:
                await websocket.send(json.dumps({
                    "type": "control",
                    "event": parts[0],
                    "key": parts[1]
                }))

asyncio.run(control_drone())